{"ast":null,"code":"import React,{useContext,useEffect,useState}from\"react\";import{TournamentContext}from\"../context/TournamentContext.js\";import{PieChart,Pie,Cell,Tooltip,BarChart,Bar,XAxis,YAxis,CartesianGrid,Legend,ResponsiveContainer}from\"recharts\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const COLORS=[\"#0088FE\",\"#00C49F\",\"#FFBB28\",\"#FF8042\",\"#A28DFF\",\"#FF6384\"];export default function TournamentCharts(){const{tournaments}=useContext(TournamentContext);const[chartData,setChartData]=useState({tournamentsPerYear:[],prizeMoneyDistribution:[],favoritePlayers:[]});const{latestTournament}=useContext(TournamentContext);useEffect(()=>{const processChartData=()=>{// Tournaments Per Year (Pie Chart)\nconst yearCounts=tournaments.reduce((acc,tournament)=>{const year=new Date(tournament.date).getFullYear();acc[year]=(acc[year]||0)+1;return acc;},{});const tournamentsPerYear=Object.entries(yearCounts).map(_ref=>{let[year,count]=_ref;return{name:year,value:count};});// Prize Money Distribution (Pie Chart)\nconst prizeMoneyDistribution=tournaments.map(tournament=>({name:tournament.name,value:parseFloat(tournament.prize.replace(/[^0-9.]/g,\"\"))||0}));// Favorite Players Popularity (Bar Chart)\nconst playerCounts=tournaments.reduce((acc,tournament)=>{acc[tournament.favoritePlayer]=(acc[tournament.favoritePlayer]||0)+1;return acc;},{});const favoritePlayers=Object.entries(playerCounts).map(_ref2=>{let[player,count]=_ref2;return{player,count};});setChartData({tournamentsPerYear,prizeMoneyDistribution,favoritePlayers});};processChartData();},[tournaments]);return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",alignItems:\"center\",gap:\"30px\"},children:[latestTournament&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-yellow-100 border border-yellow-400 text-yellow-800 px-4 py-3 rounded mb-4 shadow-md\",children:[/*#__PURE__*/_jsx(\"strong\",{children:latestTournament.name}),\" was just added!\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"strong\",{children:latestTournament.location}),\" |  \",/*#__PURE__*/_jsx(\"strong\",{children:new Date(latestTournament.date).toLocaleDateString()}),\" |  \",/*#__PURE__*/_jsx(\"strong\",{children:latestTournament.prize}),/*#__PURE__*/_jsx(\"br\",{}),\"Favorite Player: \",/*#__PURE__*/_jsx(\"strong\",{children:latestTournament.favoritePlayer})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Tournaments Per Year\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:400,height:400,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:chartData.tournamentsPerYear,dataKey:\"value\",nameKey:\"name\",cx:\"50%\",cy:\"50%\",outerRadius:150,fill:\"#8884d8\",label:true,children:chartData.tournamentsPerYear.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{})]})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Prize Money Distribution\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:400,height:400,children:/*#__PURE__*/_jsxs(PieChart,{children:[/*#__PURE__*/_jsx(Pie,{data:chartData.prizeMoneyDistribution,dataKey:\"value\",nameKey:\"name\",cx:\"50%\",cy:\"50%\",outerRadius:150,fill:\"#82ca9d\",label:true,children:chartData.prizeMoneyDistribution.map((entry,index)=>/*#__PURE__*/_jsx(Cell,{fill:COLORS[index%COLORS.length]},\"cell-\".concat(index)))}),/*#__PURE__*/_jsx(Tooltip,{})]})}),/*#__PURE__*/_jsx(\"h2\",{children:\"Favorite Players Popularity\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:500,height:400,children:/*#__PURE__*/_jsxs(BarChart,{data:chartData.favoritePlayers,margin:{top:5,right:30,left:20,bottom:5},children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"player\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Legend,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"count\",fill:\"#ff7300\"})]})})]});}","map":{"version":3,"names":["React","useContext","useEffect","useState","TournamentContext","PieChart","Pie","Cell","Tooltip","BarChart","Bar","XAxis","YAxis","CartesianGrid","Legend","ResponsiveContainer","jsx","_jsx","jsxs","_jsxs","COLORS","TournamentCharts","tournaments","chartData","setChartData","tournamentsPerYear","prizeMoneyDistribution","favoritePlayers","latestTournament","processChartData","yearCounts","reduce","acc","tournament","year","Date","date","getFullYear","Object","entries","map","_ref","count","name","value","parseFloat","prize","replace","playerCounts","favoritePlayer","_ref2","player","style","display","flexDirection","alignItems","gap","children","className","location","toLocaleDateString","width","height","data","dataKey","nameKey","cx","cy","outerRadius","fill","label","entry","index","length","concat","margin","top","right","left","bottom","strokeDasharray"],"sources":["C:/Users/lazab/tennis-tournaments11/tennis-tournaments/client/src/pages/TournamentsCharts.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { TournamentContext } from \"../context/TournamentContext.js\";\nimport { PieChart, Pie, Cell, Tooltip, BarChart, Bar, XAxis, YAxis, CartesianGrid, Legend, ResponsiveContainer } from \"recharts\";\n\nconst COLORS = [\"#0088FE\", \"#00C49F\", \"#FFBB28\", \"#FF8042\", \"#A28DFF\", \"#FF6384\"];\n\nexport default function TournamentCharts() {\n    const { tournaments } = useContext(TournamentContext);\n    const [chartData, setChartData] = useState({\n        tournamentsPerYear: [],\n        prizeMoneyDistribution: [],\n        favoritePlayers: []\n    });\n    const { latestTournament } = useContext(TournamentContext);\n\n\n    useEffect(() => {\n        const processChartData = () => {\n            // Tournaments Per Year (Pie Chart)\n            const yearCounts = tournaments.reduce((acc, tournament) => {\n                const year = new Date(tournament.date).getFullYear();\n                acc[year] = (acc[year] || 0) + 1;\n                return acc;\n            }, {});\n            const tournamentsPerYear = Object.entries(yearCounts).map(([year, count]) => ({ name: year, value: count }));\n\n            // Prize Money Distribution (Pie Chart)\n            const prizeMoneyDistribution = tournaments.map(tournament => ({\n                name: tournament.name,\n                value: parseFloat(tournament.prize.replace(/[^0-9.]/g, \"\")) || 0\n            }));\n\n            // Favorite Players Popularity (Bar Chart)\n            const playerCounts = tournaments.reduce((acc, tournament) => {\n                acc[tournament.favoritePlayer] = (acc[tournament.favoritePlayer] || 0) + 1;\n                return acc;\n            }, {});\n            const favoritePlayers = Object.entries(playerCounts).map(([player, count]) => ({ player, count }));\n\n            setChartData({ tournamentsPerYear, prizeMoneyDistribution, favoritePlayers });\n        };\n\n        processChartData();\n    }, [tournaments]);\n\n    return (\n        <div style={{ display: \"flex\", flexDirection: \"column\", alignItems: \"center\", gap: \"30px\" }}>\n            {latestTournament && (\n                <div className=\"bg-yellow-100 border border-yellow-400 text-yellow-800 px-4 py-3 rounded mb-4 shadow-md\">\n                     <strong>{latestTournament.name}</strong> was just added!\n                    <br />\n                     <strong>{latestTournament.location}</strong> |  <strong>{new Date(latestTournament.date).toLocaleDateString()}</strong> |  <strong>{latestTournament.prize}</strong>\n                    <br />\n                     Favorite Player: <strong>{latestTournament.favoritePlayer}</strong>\n                </div>\n            )}\n\n            <h2>Tournaments Per Year</h2>\n            <ResponsiveContainer width={400} height={400}>\n                <PieChart>\n                    <Pie data={chartData.tournamentsPerYear} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={150} fill=\"#8884d8\" label>\n                        {chartData.tournamentsPerYear.map((entry, index) => (\n                            <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                        ))}\n                    </Pie>\n                    <Tooltip />\n                </PieChart>\n            </ResponsiveContainer>\n\n            <h2>Prize Money Distribution</h2>\n            <ResponsiveContainer width={400} height={400}>\n                <PieChart>\n                    <Pie data={chartData.prizeMoneyDistribution} dataKey=\"value\" nameKey=\"name\" cx=\"50%\" cy=\"50%\" outerRadius={150} fill=\"#82ca9d\" label>\n                        {chartData.prizeMoneyDistribution.map((entry, index) => (\n                            <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                        ))}\n                    </Pie>\n                    <Tooltip />\n                </PieChart>\n            </ResponsiveContainer>\n\n            <h2>Favorite Players Popularity</h2>\n            <ResponsiveContainer width={500} height={400}>\n                <BarChart data={chartData.favoritePlayers} margin={{ top: 5, right: 30, left: 20, bottom: 5 }}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"player\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Legend />\n                    <Bar dataKey=\"count\" fill=\"#ff7300\" />\n                </BarChart>\n            </ResponsiveContainer>\n        </div>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}