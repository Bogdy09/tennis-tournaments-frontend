{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lazab\\\\tennis-tournaments11\\\\tennis-tournaments\\\\client\\\\src\\\\pages\\\\Home.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { getTournaments, deleteTournament } from \"../api.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Home() {\n  _s();\n  const [tournaments, setTournaments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchTournaments = async () => {\n      try {\n        const response = await getTournaments();\n        console.log(\"Fetched:\", response);\n        setTournaments(response.tournaments || []);\n      } catch (err) {\n        console.error(\"Fetch error:\", err);\n        setError(\"Failed to fetch tournaments.\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchTournaments();\n  }, []);\n  const handleView = tournament => {\n    navigate(`/edit-tournament/${tournament.id}`, {\n      state: {\n        tournament,\n        from: \"home\"\n      }\n    });\n  };\n  const handleDelete = async id => {\n    const isOnline = navigator.onLine;\n    const serverAvailable = true;\n    const result = await deleteTournament(id, isOnline, serverAvailable);\n    if (result.success || result.queued) {\n      setTournaments(prev => prev.filter(t => t.id !== id));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Tournaments List\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading tournaments...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 25\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: \"red\"\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 23\n    }, this), !loading && tournaments.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"No tournaments available.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 54\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyle: \"none\",\n        padding: 0\n      },\n      children: tournaments.map(tournament => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          marginBottom: \"15px\",\n          padding: \"15px\",\n          border: \"1px solid #ddd\",\n          borderRadius: \"5px\",\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              margin: \"0 0 5px 0\"\n            },\n            children: tournament.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              margin: \"0\"\n            },\n            children: [tournament.location, \" \\uFFFD \", new Date(tournament.date).toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleView(tournament),\n            style: {\n              padding: \"8px 12px\",\n              backgroundColor: \"#2196F3\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\",\n              marginRight: \"10px\"\n            },\n            children: \"View\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDelete(tournament.id),\n            style: {\n              padding: \"8px 12px\",\n              backgroundColor: \"#ff4d4d\",\n              color: \"white\",\n              border: \"none\",\n              borderRadius: \"4px\",\n              cursor: \"pointer\"\n            },\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 25\n        }, this)]\n      }, tournament.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n}\n_s(Home, \"/j+LswMa1AB6zIFS3A/G2kDIjxM=\", false, function () {\n  return [useNavigate];\n});\n_c = Home;\nvar _c;\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","getTournaments","deleteTournament","jsxDEV","_jsxDEV","Home","_s","tournaments","setTournaments","loading","setLoading","error","setError","navigate","fetchTournaments","response","console","log","err","handleView","tournament","id","state","from","handleDelete","isOnline","navigator","onLine","serverAvailable","result","success","queued","prev","filter","t","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","color","length","listStyle","map","marginBottom","border","borderRadius","display","justifyContent","alignItems","margin","name","location","Date","date","toLocaleDateString","onClick","backgroundColor","cursor","marginRight","_c","$RefreshReg$"],"sources":["C:/Users/lazab/tennis-tournaments11/tennis-tournaments/client/src/pages/Home.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { getTournaments, deleteTournament } from \"../api.js\";\r\n\r\n\r\nexport default function Home() {\r\n    const [tournaments, setTournaments] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        const fetchTournaments = async () => {\r\n            try {\r\n                const response = await getTournaments();\r\n                console.log(\"Fetched:\", response);\r\n                setTournaments(response.tournaments || []);\r\n            } catch (err) {\r\n                console.error(\"Fetch error:\", err);\r\n                setError(\"Failed to fetch tournaments.\");\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n        fetchTournaments();\r\n    }, []);\r\n\r\n    const handleView = (tournament) => {\r\n        navigate(`/edit-tournament/${tournament.id}`, {\r\n            state: { tournament, from: \"home\" }\r\n        });\r\n    };\r\n\r\n    const handleDelete = async (id) => {\r\n        const isOnline = navigator.onLine;\r\n        const serverAvailable = true;\r\n\r\n        const result = await deleteTournament(id, isOnline, serverAvailable);\r\n\r\n        if (result.success || result.queued) {\r\n            setTournaments((prev) => prev.filter(t => t.id !== id));\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <div style={{ padding: \"20px\" }}>\r\n            <h1>Tournaments List</h1>\r\n\r\n            {loading && <p>Loading tournaments...</p>}\r\n            {error && <p style={{ color: \"red\" }}>{error}</p>}\r\n            {!loading && tournaments.length === 0 && <p>No tournaments available.</p>}\r\n\r\n            <ul style={{ listStyle: \"none\", padding: 0 }}>\r\n                {tournaments.map((tournament) => (\r\n                    <li key={tournament.id} style={{\r\n                        marginBottom: \"15px\",\r\n                        padding: \"15px\",\r\n                        border: \"1px solid #ddd\",\r\n                        borderRadius: \"5px\",\r\n                        display: \"flex\",\r\n                        justifyContent: \"space-between\",\r\n                        alignItems: \"center\"\r\n                    }}>\r\n                        <div>\r\n                            <h3 style={{ margin: \"0 0 5px 0\" }}>{tournament.name}</h3>\r\n                            <p style={{ margin: \"0\" }}>\r\n                                {tournament.location} ï¿½ {new Date(tournament.date).toLocaleDateString()}\r\n                            </p>\r\n                        </div>\r\n                        <div>\r\n                            <button\r\n                                onClick={() => handleView(tournament)}\r\n                                style={{\r\n                                    padding: \"8px 12px\",\r\n                                    backgroundColor: \"#2196F3\",\r\n                                    color: \"white\",\r\n                                    border: \"none\",\r\n                                    borderRadius: \"4px\",\r\n                                    cursor: \"pointer\",\r\n                                    marginRight: \"10px\"\r\n                                }}\r\n                            >\r\n                                View\r\n                            </button>\r\n                            <button\r\n                                onClick={() => handleDelete(tournament.id)}\r\n                                style={{\r\n                                    padding: \"8px 12px\",\r\n                                    backgroundColor: \"#ff4d4d\",\r\n                                    color: \"white\",\r\n                                    border: \"none\",\r\n                                    borderRadius: \"4px\",\r\n                                    cursor: \"pointer\"\r\n                                }}\r\n                            >\r\n                                Delete\r\n                            </button>\r\n                        </div>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}