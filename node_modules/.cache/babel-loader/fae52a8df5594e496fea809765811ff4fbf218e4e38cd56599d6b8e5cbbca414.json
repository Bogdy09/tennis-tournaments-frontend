{"ast":null,"code":"import _objectSpread from\"C:/Users/lazab/tennis-tournaments11/tennis-tournaments/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{getPlayers,addPlayer,deletePlayer,updatePlayer}from'../api.js';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function ViewPlayers(){const[players,setPlayers]=useState([]);const[form,setForm]=useState({name:'',country:'',ranking:''});const[editingId,setEditingId]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[nameFilter,setNameFilter]=useState('');const[sortOrder,setSortOrder]=useState('');useEffect(()=>{fetchData();},[nameFilter,sortOrder]);// <-- add these dependencies\nconst fetchData=async()=>{setLoading(true);try{const filters={};if(nameFilter)filters.name=nameFilter;if(sortOrder)filters.sort=sortOrder;const data=await getPlayers(filters);setPlayers(data);}catch(err){setError(err.message);}finally{setLoading(false);}};async function handleAdd(){try{await addPlayer(form);setForm({name:'',country:'',ranking:''});fetchData();}catch(err){alert(err.message);}}async function handleDelete(id){if(window.confirm(\"Are you sure?\")){await deletePlayer(id);fetchData();}}async function handleUpdate(){try{await updatePlayer(editingId,form);setEditingId(null);setForm({name:'',country:'',ranking:''});fetchData();}catch(err){alert(err.message);}}function startEdit(player){setEditingId(player.id);setForm({name:player.name,country:player.country,ranking:player.ranking});}return/*#__PURE__*/_jsxs(\"div\",{style:{padding:\"20px\"},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Players\"}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Filter by name\",value:nameFilter,onChange:e=>setNameFilter(e.target.value)}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>setSortOrder(e.target.value),value:sortOrder,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Sort by Ranking\"}),/*#__PURE__*/_jsx(\"option\",{value:\"asc\",children:\"Ascending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"desc\",children:\"Descending\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:'20px'},children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"Name\",value:form.name,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{name:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Country\",value:form.country,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{country:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Ranking\",type:\"number\",value:form.ranking,onChange:e=>setForm(_objectSpread(_objectSpread({},form),{},{ranking:e.target.value}))}),editingId?/*#__PURE__*/_jsx(\"button\",{onClick:handleUpdate,children:\"Update\"}):/*#__PURE__*/_jsx(\"button\",{onClick:handleAdd,children:\"Add\"})]}),/*#__PURE__*/_jsx(\"ul\",{style:{listStyle:\"none\",padding:0},children:players.map(player=>/*#__PURE__*/_jsxs(\"li\",{style:{border:'1px solid #ccc',margin:'10px 0',padding:'10px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:player.name}),\" \\uFFFD \",player.country,\", Rank: \",player.ranking,/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>startEdit(player),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(player.id),children:\"Delete\"})]})]},player.id))})]});}","map":{"version":3,"names":["React","useEffect","useState","getPlayers","addPlayer","deletePlayer","updatePlayer","jsx","_jsx","jsxs","_jsxs","ViewPlayers","players","setPlayers","form","setForm","name","country","ranking","editingId","setEditingId","loading","setLoading","error","setError","nameFilter","setNameFilter","sortOrder","setSortOrder","fetchData","filters","sort","data","err","message","handleAdd","alert","handleDelete","id","window","confirm","handleUpdate","startEdit","player","style","padding","children","marginBottom","type","placeholder","value","onChange","e","target","_objectSpread","onClick","listStyle","map","border","margin"],"sources":["C:/Users/lazab/tennis-tournaments11/tennis-tournaments/client/src/pages/ViewPlayers.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { getPlayers, addPlayer, deletePlayer, updatePlayer } from '../api.js';\r\n\r\nexport default function ViewPlayers() {\r\n    const [players, setPlayers] = useState([]);\r\n    const [form, setForm] = useState({ name: '', country: '', ranking: '' });\r\n    const [editingId, setEditingId] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n\r\n    const [nameFilter, setNameFilter] = useState('');\r\n    const [sortOrder, setSortOrder] = useState('');\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n    }, [nameFilter, sortOrder]); // <-- add these dependencies\r\n\r\n\r\n    const fetchData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const filters = {};\r\n            if (nameFilter) filters.name = nameFilter;\r\n            if (sortOrder) filters.sort = sortOrder;\r\n\r\n            const data = await getPlayers(filters);\r\n            setPlayers(data);\r\n        } catch (err) {\r\n            setError(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    async function handleAdd() {\r\n        try {\r\n            await addPlayer(form);\r\n            setForm({ name: '', country: '', ranking: '' });\r\n            fetchData();\r\n        } catch (err) {\r\n            alert(err.message);\r\n        }\r\n    }\r\n\r\n    async function handleDelete(id) {\r\n        if (window.confirm(\"Are you sure?\")) {\r\n            await deletePlayer(id);\r\n            fetchData();\r\n        }\r\n    }\r\n\r\n    async function handleUpdate() {\r\n        try {\r\n            await updatePlayer(editingId, form);\r\n            setEditingId(null);\r\n            setForm({ name: '', country: '', ranking: '' });\r\n            fetchData();\r\n        } catch (err) {\r\n            alert(err.message);\r\n        }\r\n    }\r\n\r\n    function startEdit(player) {\r\n        setEditingId(player.id);\r\n        setForm({ name: player.name, country: player.country, ranking: player.ranking });\r\n    }\r\n\r\n    return (\r\n        <div style={{ padding: \"20px\" }}>\r\n            <h1>Players</h1>\r\n            {/* Filter & Sort Controls */}\r\n            <div style={{ marginBottom: '20px' }}>\r\n                <input\r\n                    type=\"text\"\r\n                    placeholder=\"Filter by name\"\r\n                    value={nameFilter}\r\n                    onChange={(e) => setNameFilter(e.target.value)}\r\n                />\r\n                <select onChange={(e) => setSortOrder(e.target.value)} value={sortOrder}>\r\n                    <option value=\"\">Sort by Ranking</option>\r\n                    <option value=\"asc\">Ascending</option>\r\n                    <option value=\"desc\">Descending</option>\r\n                </select>\r\n                \r\n            </div>\r\n\r\n            <div style={{ marginBottom: '20px' }}>\r\n                <input placeholder=\"Name\" value={form.name} onChange={e => setForm({ ...form, name: e.target.value })} />\r\n                <input placeholder=\"Country\" value={form.country} onChange={e => setForm({ ...form, country: e.target.value })} />\r\n                <input placeholder=\"Ranking\" type=\"number\" value={form.ranking} onChange={e => setForm({ ...form, ranking: e.target.value })} />\r\n                {editingId ?\r\n                    <button onClick={handleUpdate}>Update</button> :\r\n                    <button onClick={handleAdd}>Add</button>}\r\n            </div>\r\n\r\n            <ul style={{ listStyle: \"none\", padding: 0 }}>\r\n                {players.map(player => (\r\n                    <li key={player.id} style={{ border: '1px solid #ccc', margin: '10px 0', padding: '10px' }}>\r\n                        <strong>{player.name}</strong> ï¿½ {player.country}, Rank: {player.ranking}\r\n                        <div>\r\n                            <button onClick={() => startEdit(player)}>Edit</button>\r\n                            <button onClick={() => handleDelete(player.id)}>Delete</button>\r\n                        </div>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}